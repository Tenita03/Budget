<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Paycheck Tracker – Planner Style</title>

<style>
body {
  background: #f4f5f7;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  margin: 0;
  padding: 0;
}

.planner {
  max-width: 900px;
  margin: auto;
  padding: 16px;
}

.card {
  background: #fff;
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 18px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.06);
}

.soft {
  background: #f8faf9;
}

.heavy {
  border-left: 6px solid #333;
}

h2 {
  margin: 0 0 12px;
}

table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  padding: 8px;
  border-bottom: 1px solid #eee;
  text-align: left;
}

input[type="text"],
input[type="number"],
input[type="date"] {
  width: 100%;
  border: none;
  background: transparent;
  font-size: 14px;
}

input:focus {
  outline: none;
}

.total {
  text-align: right;
  font-weight: bold;
  margin-top: 8px;
}

button {
  margin-top: 8px;
  padding: 6px 12px;
  border: none;
  border-radius: 8px;
  background: #007aff;
  color: white;
  cursor: pointer;
}

button:hover {
  opacity: 0.9;
}

.paid {
  opacity: 0.45;
}

.overview {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px 16px;
}

.positive { color: green; }
.negative { color: red; }

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
</style>
</head>

<body>
<div class="planner">

  <!-- HEADER -->
  <section class="card header">
    <div>
      <select id="month"></select>
      <select id="year"></select>
    </div>
    <div>
      Starting Balance $
      <input type="number" id="startingBalance" value="0">
    </div>
  </section>

  <!-- INCOME -->
  <section class="card">
    <h2>Income</h2>
    <table id="incomeTable"></table>
    <button onclick="addRow('income')">+ Add Income</button>
    <div class="total">Total Income: $<span id="incomeTotal">0</span></div>
  </section>

  <!-- SAVINGS -->
  <section class="card soft">
    <h2>Savings</h2>
    <table id="savingsTable"></table>
    <button onclick="addRow('savings')">+ Add Savings</button>
    <div class="total">Total Savings: $<span id="savingsTotal">0</span></div>
  </section>

  <!-- BILLS -->
  
    <section class="card">
  <h2>Bills & Fixed Expenses</h2>

  <table id="billsTable">
    <thead>
      <tr>
        <th>✔</th>
        <th>Bill</th>
        <th>Due</th>
        <th>Amount</th>
        <th>Unpaid</th>
        <th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button onclick="addBill()">+ Add Bill</button>

  <div class="total">
    Total Bills Due: $<span id="billsTotal">0.00</span>
  </div>
</section>

  <!-- DEBT -->
  <section class="card heavy">
    <h2>Debt</h2>
    <table id="debtTable"></table>
    <button onclick="addRow('debt')">+ Add Debt</button>
    <div class="total">Debt Payments: $<span id="debtTotal">0</span></div>
  </section>

  <!-- OVERVIEW -->
  <section class="card">
    <h2>This Month’s Financial Overview</h2>
    <div class="overview">
      <div>Opening Balance</div><div id="oBalance">$0</div>
      <div>Total Income</div><div id="oIncome">$0</div>
      <div>Total Expenses</div><div id="oExpenses">$0</div>
      <div>Difference</div><div id="oDiff">$0</div>
      <div>Total Savings</div><div id="oSavings">$0</div>
      <div>Balance Forward</div><div id="oForward">$0</div>
    </div>
  </section>

</div>

<script>
const tables = {
  income: ["Date","Source","Amount"],
  savings: ["Description","Amount"],
  bills: ["Paid","Bill","Due","Amount"],
  debt: ["Description","Amount"]
};

function setupMonthYear() {
  const m = document.getElementById("month");
  const y = document.getElementById("year");
  const now = new Date();
  for(let i=0;i<12;i++) m.innerHTML += `<option>${new Date(0,i).toLocaleString('default',{month:'long'})}</option>`;
  for(let i=2024;i<2035;i++) y.innerHTML += `<option>${i}</option>`;
  m.value = new Date(0,now.getMonth()).toLocaleString('default',{month:'long'});
  y.value = now.getFullYear();
}

function addRow(type) {
  const table = document.getElementById(type+"Table");
  if(!table.tHead){
    table.innerHTML = "<thead><tr>"+tables[type].map(h=>`<th>${h}</th>`).join("")+"</tr></thead><tbody></tbody>";
  }
  const tr = document.createElement("tr");
  tables[type].forEach(h=>{
    const td = document.createElement("td");
    if(h==="Paid"){
      const cb = document.createElement("input");
      cb.type="checkbox";
      cb.onchange=()=>tr.classList.toggle("paid",cb.checked);
      td.appendChild(cb);
    } else {
      const input = document.createElement("input");
      input.type = h==="Amount" ? "number" : h==="Due"||h==="Date" ? "date" : "text";
      input.oninput = updateTotals;
      td.appendChild(input);
    }
    tr.appendChild(td);
  });
  table.querySelector("tbody").appendChild(tr);
}

function sumTable(id){
  let sum=0;
  document.querySelectorAll(`#${id}Table tbody tr`).forEach(r=>{
    const amt = r.querySelector("input[type='number']");
    if(amt) sum+=Number(amt.value)||0;
  });
  return sum;
}

function updateTotals(){
  const income = sumTable("income");
  const savings = sumTable("savings");
  const bills = sumTable("bills");
  const debt = sumTable("debt");
  const start = Number(startingBalance.value)||0;
  const expenses = bills+debt;
  const diff = income-expenses;
  const forward = start+diff-savings;

  incomeTotal.textContent=income.toFixed(2);
  savingsTotal.textContent=savings.toFixed(2);
  billsTotal.textContent=bills.toFixed(2);
  debtTotal.textContent=debt.toFixed(2);

  oBalance.textContent=start.toFixed(2);
  oIncome.textContent=income.toFixed(2);
  oExpenses.textContent=expenses.toFixed(2);
  oDiff.textContent=diff.toFixed(2);
  oSavings.textContent=savings.toFixed(2);
  oForward.textContent=forward.toFixed(2);
  oDiff.className = diff>=0?"positive":"negative";
}

setupMonthYear();
</script>
</body>
</html>
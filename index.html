<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paycheck Tracker â€“ Planner Style v15</title>

<style>
body {
  background:#f4f5f7;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  margin:0;
}
.planner { max-width:980px; margin:auto; padding:16px; }

.card {
  background:#fff;
  border-radius:14px;
  padding:16px;
  margin-bottom:18px;
  box-shadow:0 6px 20px rgba(0,0,0,.06);
}

.soft { background:#f8faf9; }
.heavy { border-left:6px solid #333; }

h2 { margin:0 0 12px; }

.header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}

select,input {
  border:none;
  background:transparent;
  font-size:14px;
}
input:focus,select:focus { outline:none; }

table { width:100%; border-collapse:collapse; }
th,td {
  padding:8px;
  border-bottom:1px solid #eee;
  text-align:left;
}

button {
  padding:6px 12px;
  border:none;
  border-radius:8px;
  background:#007aff;
  color:#fff;
  cursor:pointer;
}
button.secondary { background:#999; }

.total {
  text-align:right;
  font-weight:600;
  margin-top:8px;
}

/* Bills visuals */
.paid { opacity:.35; }
.overdue { background:#fff5f5; }
.due-today { background:#fffbea; }
.remove { cursor:pointer; font-size:18px; color:#999; }
.remove:hover { color:red; }

/* Remaining Meter */
.remaining {
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:18px;
}
.remaining strong {
  font-size:26px;
}
.remaining.positive strong { color:green; }
.remaining.negative strong { color:red; }

/* Overview */
.overview {
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px 16px;
}
.positive { color:green; }
.negative { color:red; }

.locked * { pointer-events:none; opacity:.75; }
.locked .lock-note { opacity:1; pointer-events:auto; }
.lock-note { font-size:13px; color:#666; margin-top:6px; }
</style>
</head>

<body>
<div class="planner">

<!-- HEADER -->
<section class="card header">
  <div>
    <select id="month"></select>
    <select id="year"></select>
  </div>
  <div>
    Starting Balance $
    <input type="number" id="startingBalance" value="0">
  </div>
  <div>
    <button id="lockBtn" class="secondary">ðŸ”“ Lock Month</button>
  </div>
</section>

<!-- REMAINING METER -->
<section class="card" id="remainingCard">
  <div class="remaining" id="remainingMeter">
    <span>Remaining This Month</span>
    <strong id="remainingAmount">$0.00</strong>
  </div>
</section>

<!-- INCOME -->
<section class="card" id="incomeSection">
  <h2>Income</h2>
  <table id="incomeTable">
    <thead><tr><th>Date</th><th>Source</th><th>Amount</th></tr></thead>
    <tbody></tbody>
  </table>
  <button onclick="addIncome()">+ Add Income</button>
  <div class="total">Total Income: $<span id="incomeTotal">0.00</span></div>
</section>

<!-- SAVINGS -->
<section class="card soft" id="savingsSection">
  <h2>Monthly Savings</h2>
  <table id="savingsTable">
    <thead><tr><th>Purpose</th><th>Amount</th></tr></thead>
    <tbody></tbody>
  </table>
  <button onclick="addSavings()">+ Add Savings</button>
  <div class="total">Total Savings: $<span id="savingsTotal">0.00</span></div>
</section>

<!-- BILLS -->
<section class="card" id="billsSection">
  <h2>Bills & Fixed Expenses</h2>
  <table id="billsTable">
    <thead>
      <tr><th>âœ”</th><th>Bill</th><th>Due</th><th>Amount</th><th>Unpaid</th><th></th></tr>
    </thead>
    <tbody></tbody>
  </table>
  <button onclick="addBill()">+ Add Bill</button>
  <div class="total">Bills Due: $<span id="billsTotal">0.00</span></div>
</section>

<!-- DEBT -->
<section class="card heavy" id="debtSection">
  <h2>Debt</h2>
  <table id="debtTable">
    <thead>
      <tr>
        <th>Debt</th><th>Balance</th><th>APR %</th><th>Payment</th>
        <th>Interest</th><th>Principal</th><th>New Balance</th><th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <button onclick="addDebt()">+ Add Debt</button>
  <div class="total">Debt Payments: $<span id="debtTotal">0.00</span></div>
</section>

<!-- OVERVIEW -->
<section class="card">
  <h2>This Monthâ€™s Financial Overview</h2>
  <div class="overview">
    <div>Opening Balance</div><div id="oStart">$0.00</div>
    <div>Total Income</div><div id="oIncome">$0.00</div>
    <div>Bills</div><div id="oBills">$0.00</div>
    <div>Debt</div><div id="oDebt">$0.00</div>
    <div>Savings</div><div id="oSavings">$0.00</div>
    <div>Difference</div><div id="oDiff">$0.00</div>
    <div>Balance Forward</div><div id="oForward">$0.00</div>
  </div>
  <div class="lock-note" id="lockNote"></div>
</section>

</div>

<script>
/* ========= Month / Year ========= */
const mSel=month,ySel=year;
const now=new Date();
for(let i=0;i<12;i++) mSel.innerHTML+=`<option>${new Date(0,i).toLocaleString('default',{month:'long'})}</option>`;
for(let y=2024;y<2035;y++) ySel.innerHTML+=`<option>${y}</option>`;
mSel.value=new Date(0,now.getMonth()).toLocaleString('default',{month:'long'});
ySel.value=now.getFullYear();

/* ========= Lock ========= */
let locked=false;
lockBtn.onclick=()=>{
  locked=!locked;
  document.body.classList.toggle("locked",locked);
  lockBtn.textContent=locked?"ðŸ”’ Unlock":"ðŸ”“ Lock Month";
};

/* ========= Helpers ========= */
function sum(sel){let t=0;document.querySelectorAll(sel).forEach(i=>t+=Number(i.value)||0);return t;}

/* ========= Add Rows ========= */
function addIncome(){
  const tr=document.createElement("tr");
  tr.innerHTML=`<td><input type="date"></td><td><input></td><td><input type="number" value="0"></td>`;
  tr.querySelectorAll("input").forEach(i=>i.oninput=updateAll);
  incomeTable.tBodies[0].appendChild(tr);
}
function addSavings(){
  const tr=document.createElement("tr");
  tr.innerHTML=`<td><input></td><td><input type="number" value="0"></td>`;
  tr.querySelectorAll("input").forEach(i=>i.oninput=updateAll);
  savingsTable.tBodies[0].appendChild(tr);
}
function addBill(){
  const tr=document.createElement("tr");
  tr.innerHTML=`
    <td><input type="checkbox" class="paid"></td>
    <td><input></td>
    <td><input type="date" class="due"></td>
    <td><input type="number" class="amount" value="0"></td>
    <td class="unpaid">$0.00</td>
    <td><span class="remove">Ã—</span></td>`;
  tr.querySelector(".remove").onclick=()=>{tr.remove();updateAll();};
  tr.querySelectorAll("input").forEach(i=>i.oninput=updateAll);
  billsTable.tBodies[0].appendChild(tr);
}
function addDebt(){
  const tr=document.createElement("tr");
  tr.innerHTML=`
    <td><input></td>
    <td><input type="number" class="balance" value="0"></td>
    <td><input type="number" class="apr" value="0"></td>
    <td><input type="number" class="payment" value="0"></td>
    <td class="interest">$0.00</td>
    <td class="principal">$0.00</td>
    <td class="newBalance">$0.00</td>
    <td><span class="remove">Ã—</span></td>`;
  tr.querySelector(".remove").onclick=()=>{tr.remove();updateAll();};
  tr.querySelectorAll("input").forEach(i=>i.oninput=updateAll);
  debtTable.tBodies[0].appendChild(tr);
}

/* ========= Update ========= */
function updateAll(){
  const income=sum("#incomeTable input[type=number]");
  const savings=sum("#savingsTable input[type=number]");
  let bills=0,debtPay=0;
  const today=new Date().toISOString().split("T")[0];

  document.querySelectorAll("#billsTable tbody tr").forEach(r=>{
    const paid=r.querySelector(".paid").checked;
    const amt=Number(r.querySelector(".amount").value)||0;
    const due=r.querySelector(".due").value;
    r.classList.toggle("paid",paid);
    r.classList.toggle("overdue",!paid&&due&&due<today);
    r.classList.toggle("due-today",!paid&&due===today);
    r.querySelector(".unpaid").textContent=paid?"$0.00":`$${amt.toFixed(2)}`;
    if(!paid) bills+=amt;
  });

  document.querySelectorAll("#debtTable tbody tr").forEach(r=>{
    const bal=Number(r.querySelector(".balance").value)||0;
    const apr=Number(r.querySelector(".apr").value)||0;
    const pay=Number(r.querySelector(".payment").value)||0;
    const interest=bal*(apr/100/12);
    const principal=Math.max(pay-interest,0);
    r.querySelector(".interest").textContent=`$${interest.toFixed(2)}`;
    r.querySelector(".principal").textContent=`$${principal.toFixed(2)}`;
    r.querySelector(".newBalance").textContent=`$${Math.max(bal-principal,0).toFixed(2)}`;
    debtPay+=pay;
  });

  incomeTotal.textContent=income.toFixed(2);
  savingsTotal.textContent=savings.toFixed(2);
  billsTotal.textContent=bills.toFixed(2);
  debtTotal.textContent=debtPay.toFixed(2);

  const start=Number(startingBalance.value)||0;
  const remaining=start+income-bills-debtPay-savings;
  remainingAmount.textContent=`$${remaining.toFixed(2)}`;
  remainingMeter.className=`remaining ${remaining>=0?"positive":"negative"}`;

  const diff=income-bills-debtPay;
  const forward=start+diff-savings;

  oStart.textContent=start.toFixed(2);
  oIncome.textContent=income.toFixed(2);
  oBills.textContent=bills.toFixed(2);
  oDebt.textContent=debtPay.toFixed(2);
  oSavings.textContent=savings.toFixed(2);
  oDiff.textContent=diff.toFixed(2);
  oForward.textContent=forward.toFixed(2);
  oDiff.className=diff>=0?"positive":"negative";
}

startingBalance.oninput=updateAll;
</script>
</body>
</html>